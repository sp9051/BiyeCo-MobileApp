import React from 'react';
import { View, Text, StyleSheet } from 'react-native';
import Svg, { Path } from 'react-native-svg';
import PaymentMethodOption from './PaymentMethodOption';

const PaymentMethodSection = ({ selectedPayment, onSelectPayment }) => {
    const ApplePayIcon = () => (
        <Svg width={20} height={20} viewBox="0 0 20 20" fill="none">
            <Path
                d="M9.51071 0.101563L0.760707 3.85156C0.213832 4.08594 -0.0908559 4.67187 0.0302378 5.25C0.151332 5.82812 0.659144 6.25 1.25289 6.25V6.5625C1.25289 7.08203 1.67086 7.5 2.19039 7.5H17.8154C18.3349 7.5 18.7529 7.08203 18.7529 6.5625V6.25C19.3466 6.25 19.8584 5.83203 19.9755 5.25C20.0927 4.66797 19.7881 4.08203 19.2451 3.85156L10.4951 0.101563C10.1826 -0.03125 9.82321 -0.03125 9.51071 0.101563ZM5.00289 8.75H2.50289V16.418C2.47946 16.4297 2.45602 16.4453 2.43258 16.4609L0.557582 17.7109C0.10055 18.0156 -0.106481 18.5859 0.0536753 19.1133C0.213832 19.6406 0.702113 20 1.25289 20H18.7529C19.3037 20 19.7881 19.6406 19.9482 19.1133C20.1084 18.5859 19.9052 18.0156 19.4443 17.7109L17.5693 16.4609C17.5459 16.4453 17.5224 16.4336 17.499 16.418V8.75H15.0029V16.25H13.4404V8.75H10.9404V16.25H9.06539V8.75H6.56539V16.25H5.00289V8.75ZM10.0029 2.5C10.3344 2.5 10.6524 2.6317 10.8868 2.86612C11.1212 3.10054 11.2529 3.41848 11.2529 3.75C11.2529 4.08152 11.1212 4.39946 10.8868 4.63388C10.6524 4.8683 10.3344 5 10.0029 5C9.67137 5 9.35343 4.8683 9.11901 4.63388C8.88459 4.39946 8.75289 4.08152 8.75289 3.75C8.75289 3.41848 8.88459 3.10054 9.11901 2.86612C9.35343 2.6317 9.67137 2.5 10.0029 2.5Z"
                fill="#4B5563"
            />
        </Svg>
    );

    const BKashIcon = () => (
        <Svg width={20} height={20} viewBox="0 0 20 20" fill="none">
            <Path
                d="M6.11328 17.4883L5.62109 18.6406C4.89062 18.2695 4.21875 17.8125 3.60938 17.2773L4.49609 16.3906C4.98438 16.8164 5.52734 17.1875 6.11328 17.4883ZM1.58594 10.625H0.332031C0.386719 11.4531 0.542969 12.2539 0.789063 13.0117L1.95312 12.5469C1.76172 11.9336 1.63281 11.2891 1.58594 10.625ZM1.58594 9.375C1.64062 8.64062 1.78906 7.92969 2.01953 7.26172L0.867188 6.76953C0.574219 7.58984 0.390625 8.46484 0.332031 9.375H1.58594ZM2.51172 6.11328C2.81641 5.53125 3.18359 4.98828 3.60938 4.49219L2.72266 3.60547C2.1875 4.21484 1.72656 4.88672 1.35938 5.61719L2.51172 6.11328ZM15.5078 16.3906C14.9648 16.8594 14.3594 17.2617 13.707 17.5781L14.1719 18.7422C14.9805 18.3555 15.7266 17.8594 16.3945 17.2734L15.5078 16.3906ZM4.49219 3.60938C5.03516 3.14062 5.64062 2.73828 6.29297 2.42188L5.82812 1.25781C5.01953 1.64453 4.27344 2.14063 3.60938 2.72656L4.49219 3.60938ZM17.4883 13.8867C17.1836 14.4688 16.8164 15.0117 16.3906 15.5078L17.2773 16.3945C17.8125 15.7852 18.2734 15.1094 18.6406 14.3828L17.4883 13.8867ZM18.4141 10.625C18.3594 11.3594 18.2109 12.0703 17.9805 12.7383L19.1328 13.2305C19.4258 12.4062 19.6094 11.5312 19.6641 10.6211H18.4141V10.625ZM12.5469 18.0469C11.9336 18.2422 11.2891 18.3672 10.625 18.4141V19.668C11.4531 19.6133 12.2539 19.457 13.0117 19.2109L12.5469 18.0469ZM9.375 18.4141C8.64062 18.3594 7.92969 18.2109 7.26172 17.9805L6.76953 19.1328C7.59375 19.4258 8.46875 19.6094 9.37891 19.6641V18.4141H9.375ZM18.0469 7.45312C18.2422 8.06641 18.3672 8.71094 18.4141 9.375H19.668C19.6133 8.54688 19.457 7.74609 19.2109 6.98828L18.0469 7.45312ZM3.60938 15.5078C3.14062 14.9648 2.73828 14.3594 2.42188 13.707L1.25781 14.1719C1.64453 14.9805 2.14063 15.7266 2.72656 16.3945L3.60938 15.5078ZM10.625 1.58594C11.3594 1.64062 12.0664 1.78906 12.7383 2.01953L13.2305 0.867188C12.4102 0.574219 11.5352 0.390625 10.625 0.332031V1.58594ZM7.45312 1.95312C8.06641 1.75781 8.71094 1.63281 9.375 1.58594V0.332031C8.54688 0.386719 7.74609 0.542969 6.98828 0.789063L7.45312 1.95312ZM17.2773 3.60547L16.3906 4.49219C16.8594 5.03516 17.2617 5.64062 17.582 6.29297L18.7461 5.82812C18.3594 5.01953 17.8633 4.27344 17.2773 3.60547ZM15.5078 3.60938L16.3945 2.72266C15.7852 2.1875 15.1133 1.72656 14.3828 1.35938L13.8906 2.51172C14.4688 2.81641 15.0156 3.18359 15.5078 3.60938Z"
                fill="#2563EB"
            />
            <Path
                opacity="0.999949"
                d="M10 15.3125C10.6041 15.3125 11.0938 14.8228 11.0938 14.2188C11.0938 13.6147 10.6041 13.125 10 13.125C9.39594 13.125 8.90625 13.6147 8.90625 14.2188C8.90625 14.8228 9.39594 15.3125 10 15.3125Z"
                fill="#2563EB"
            />
            <Path
                opacity="0.999886"
                d="M10.301 12.1875H9.67599C9.41818 12.1875 9.20724 11.9766 9.20724 11.7188C9.20724 8.94531 12.2307 9.22266 12.2307 7.50781C12.2307 6.72656 11.5354 5.9375 9.98849 5.9375C8.85177 5.9375 8.25802 6.3125 7.67599 7.05859C7.52365 7.25391 7.2424 7.29297 7.04318 7.15234L6.53146 6.79297C6.31271 6.64062 6.26193 6.33203 6.4299 6.12109C7.25802 5.05859 8.2424 4.375 9.9924 4.375C12.0354 4.375 13.7971 5.53906 13.7971 7.50781C13.7971 10.1484 10.7736 9.98828 10.7736 11.7188C10.7697 11.9766 10.5588 12.1875 10.301 12.1875Z"
                fill="#2563EB"
            />
        </Svg>
    );

    const CardIcon = () => (
        <Svg width={23} height={20} viewBox="0 0 23 20" fill="none">
            <Path
                d="M2.5 1.25C1.12109 1.25 0 2.37109 0 3.75V5H22.5V3.75C22.5 2.37109 21.3789 1.25 20 1.25H2.5ZM22.5 8.75H0V16.25C0 17.6289 1.12109 18.75 2.5 18.75H20C21.3789 18.75 22.5 17.6289 22.5 16.25V8.75ZM4.375 13.75H6.875C7.21875 13.75 7.5 14.0312 7.5 14.375C7.5 14.7188 7.21875 15 6.875 15H4.375C4.03125 15 3.75 14.7188 3.75 14.375C3.75 14.0312 4.03125 13.75 4.375 13.75ZM8.75 14.375C8.75 14.0312 9.03125 13.75 9.375 13.75H14.375C14.7188 13.75 15 14.0312 15 14.375C15 14.7188 14.7188 15 14.375 15H9.375C9.03125 15 8.75 14.7188 8.75 14.375Z"
                fill="#4B5563"
            />
        </Svg>
    );

    return (
        <View style={styles.container}>
            <Text style={styles.title}>Payment Method</Text>

            <View style={styles.optionsContainer}>
                <PaymentMethodOption
                    method="applepay"
                    isSelected={selectedPayment === "applepay"}
                    onSelect={onSelectPayment}
                    icon={<ApplePayIcon />}
                    label="Apple Pay"
                    hasSpecialStyling={true}
                />

                <PaymentMethodOption
                    method="bkash"
                    isSelected={selectedPayment === "bkash"}
                    onSelect={onSelectPayment}
                    icon={<BKashIcon />}
                    label="BKash"
                />

                <PaymentMethodOption
                    method="card"
                    isSelected={selectedPayment === "card"}
                    onSelect={onSelectPayment}
                    icon={<CardIcon />}
                    label="Credit / Debit Card / SSLCOMMERZ"
                />

                <PaymentMethodOption
                    method="stripe"
                    isSelected={selectedPayment === "stripe"}
                    onSelect={onSelectPayment}
                    icon={<CardIcon />}
                    label="Stripe"
                />
            </View>
        </View>
    );
};

const styles = StyleSheet.create({
    container: {
        borderRadius: 12,
        borderWidth: 1,
        borderColor: '#F3F4F6',
        padding: 20,
    },
    title: {
        fontSize: 16,
        fontWeight: '600',
        color: '#111827',
        marginBottom: 16,
    },
    optionsContainer: {
        gap: 12,
    },
});

export default PaymentMethodSection;
